<div class="general">
  <div class="form-container">
    <h2>Registro de Pacientes</h2>

    <form [formGroup]="pacienteForm" (ngSubmit)="enviarSolicitud()">
      
      <!-- Sección: Datos personales -->
      <div class="section">
        <h3 class="section-title">Datos personales</h3>
        
        <!-- Nombre Completo -->
        <div class="input-box full-width">
          <label>Nombre Completo</label>
          <input type="text" formControlName="nombreCompleto" placeholder="Ingrese nombre completo" />
        </div>

        <!-- Fecha Nacimiento y Teléfono -->
        <div class="row">
          <div class="input-box">
            <label>Fecha de Nacimiento</label>
            <input type="date" formControlName="fechaNacimiento" />
          </div>
          <div class="input-box">
            <label>Teléfono</label>
            <input type="tel" formControlName="telefono" placeholder="Ingrese teléfono" />
          </div>
        </div>
      </div>

      <!-- Sección: Datos Médicos -->
      <div class="section">
        <h3 class="section-title">Datos Médicos</h3>
        
        <div class="row">
          <!-- Género -->
          <div class="input-box">
            <label>Género</label>
            <select formControlName="genero" (change)="onGeneroChange()">
              <option value="">Seleccione género</option>
              <option value="hombre">Hombre</option>
              <option value="mujer">Mujer</option>
            </select>
          </div>

          <!-- ¿Está embarazada? (Solo visible si género es mujer) -->
          <div class="input-box" *ngIf="pacienteForm.get('genero')?.value === 'mujer'">
            <label>¿Está embarazada?</label>
            <select formControlName="embarazada">
              <option value="">Seleccione</option>
              <option value="si">Sí</option>
              <option value="no">No</option>
            </select>
          </div>

          <!-- Peso y Altura -->
          <div class="input-box">
            <label>Peso (kg)</label>
            <input type="number" formControlName="peso" placeholder="Ingrese peso" min="0" step="0.1" />
          </div>
          <div class="input-box">
            <label>Altura (cm)</label>
            <input type="number" formControlName="altura" placeholder="Ingrese altura" min="0" step="0.1" />
          </div>
        </div>
      </div>

      <!-- Sección: Enfermedad de Base -->
      <div class="section">
        <h3 class="section-title">Enfermedad de Base</h3>
        
        <!-- Primera enfermedad -->
        <div class="row">
          <div class="input-box">
            <label>Enfermedad</label>
            <input type="text" formControlName="enfermedad1" placeholder="Nombre de la enfermedad" />
          </div>
          <div class="input-box">
            <label>Tratamiento</label>
            <input type="text" formControlName="tratamiento1" placeholder="Tratamiento actual" />
          </div>
          <div class="input-box">
            <label>Dosis</label>
            <input type="text" formControlName="dosis1" placeholder="Dosis del tratamiento" />
          </div>
        </div>

        <!-- Descripción primera enfermedad -->
        <div class="input-box full-width">
          <label>Descripción</label>
          <textarea formControlName="descripcion1" placeholder="Descripción de la enfermedad y tratamiento" rows="3"></textarea>
        </div>

        <!-- Segunda enfermedad -->
        <div class="row">
          <div class="input-box">
            <label>Enfermedad</label>
            <input type="text" formControlName="enfermedad2" placeholder="Nombre de la enfermedad" />
          </div>
          <div class="input-box">
            <label>Tratamiento</label>
            <input type="text" formControlName="tratamiento2" placeholder="Tratamiento actual" />
          </div>
          <div class="input-box">
            <label>Dosis</label>
            <input type="text" formControlName="dosis2" placeholder="Dosis del tratamiento" />
          </div>
        </div>

        <!-- Descripción segunda enfermedad -->
        <div class="input-box full-width">
          <label>Descripción</label>
          <textarea formControlName="descripcion2" placeholder="Descripción de la enfermedad y tratamiento" rows="3"></textarea>
        </div>
      </div>

      <!-- Sección: Credenciales -->
      <div class="section">
        <h3 class="section-title">Credenciales de Acceso</h3>
        
        <div class="row">
          <div class="input-box">
            <label>Correo</label>
            <input type="email" formControlName="correo" placeholder="Ingrese correo electrónico" />
          </div>
          <div class="input-box">
            <label>Contraseña</label>
            <input type="password" formControlName="contrasena" placeholder="Ingrese contraseña" />
          </div>
        </div>
      </div>

      <!-- Botones uno al lado del otro -->
      <div class="button-container">
        <button type="submit" class="btn" [disabled]="!pacienteForm.valid">Registrar</button>
        <button type="button" class="btn btn-secondary" (click)="volverAlLogin()">Volver al Login</button>
      </div>
    </form>
  </div>
</div>